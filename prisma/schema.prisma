datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
  previewFeatures = ["fullTextSearch", "fullTextIndex"]
}

enum StatusFile {
  PASS
  FAIL
}

model BrandType {
  id String @id @default(uuid())
  name String @unique
  shopsId String @db.VarChar(40)
  description String? @db.VarChar(300)
  deleted Boolean @default(false)
  createdBy String
  updatedBy String
  updatedAt DateTime @updatedAt
  createdAt DateTime @default(now())
  inventory Inventory[] @relation("Inventory_BrandType")
}

model InventoryType {
  id String @id @default(uuid())
  name String @unique
  shopsId String @db.VarChar(40)
  description String? @db.VarChar(300)
  deleted Boolean @default(false)
  createdBy String
  updatedBy String
  updatedAt DateTime @updatedAt
  createdAt DateTime @default(now())
  inventory Inventory[] @relation("Inventory_InventoryType")
}

model Inventory {
  id String @id @default(uuid())
  name String @unique
  InventoryTypeId String    @db.VarChar(40)
  inventoryType   InventoryType @relation("Inventory_InventoryType", fields: [InventoryTypeId], references: [id])
  BrandTypeId String    @db.VarChar(40)
  brandType   BrandType @relation("Inventory_BrandType", fields: [BrandTypeId], references: [id])
  amount Int @default(0)
  price Int @default(0)
  priceMember Int? @default(0)
  size String?
  sku String?
  reorderLevel Int?
  sold Int @default(0)
  expiryDate DateTime? 
  shopsId String? @db.VarChar(40)
  description String? @db.VarChar(320)
  deleted Boolean @default(false)
  createdBy String
  updatedBy String
  updatedAt DateTime @updatedAt
  createdAt DateTime @default(now())
  favorite Boolean @default(false)
  csvId String?
  InventoryFileId String?    @db.VarChar(40)
  inventoryFile   InventoryFile? @relation("Inventory_InventoryFile", fields: [InventoryFileId], references: [id])
  @@fulltext([name])
}

model InventoryFile {
  id String @id @default(uuid())
  name String @unique
  shopsId String? @db.VarChar(40)
  status StatusFile @default(PASS)
  createdBy String
  updatedBy String
  updatedAt DateTime @updatedAt
  createdAt DateTime @default(now())
  inventory Inventory[] @relation("Inventory_InventoryFile")
  
}